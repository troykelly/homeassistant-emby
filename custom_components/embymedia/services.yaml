send_message:
  name: Send Message
  description: Send a message to an Emby client.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    message:
      name: Message
      description: The message text to display.
      required: true
      example: "Hello from Home Assistant!"
      selector:
        text:
    header:
      name: Header
      description: Optional header/title for the message.
      default: ""
      example: "Notification"
      selector:
        text:
    timeout_ms:
      name: Timeout
      description: How long to display the message (milliseconds).
      default: 5000
      selector:
        number:
          min: 1000
          max: 60000
          step: 1000
          unit_of_measurement: "ms"

send_command:
  name: Send Command
  description: Send a general command to an Emby client.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    command:
      name: Command
      description: The command to send (e.g., MoveUp, MoveDown, Select, Back).
      required: true
      example: "GoHome"
      selector:
        text:

mark_played:
  name: Mark Played
  description: Mark a media item as played.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    item_id:
      name: Item ID
      description: The Emby item ID to mark as played.
      required: true
      example: "12345"
      selector:
        text:
    user_id:
      name: User ID
      description: Optional user ID (uses session user if not specified).
      selector:
        text:

mark_unplayed:
  name: Mark Unplayed
  description: Mark a media item as unplayed.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    item_id:
      name: Item ID
      description: The Emby item ID to mark as unplayed.
      required: true
      example: "12345"
      selector:
        text:
    user_id:
      name: User ID
      description: Optional user ID (uses session user if not specified).
      selector:
        text:

add_favorite:
  name: Add Favorite
  description: Add a media item to favorites.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    item_id:
      name: Item ID
      description: The Emby item ID to add to favorites.
      required: true
      example: "12345"
      selector:
        text:
    user_id:
      name: User ID
      description: Optional user ID (uses session user if not specified).
      selector:
        text:

remove_favorite:
  name: Remove Favorite
  description: Remove a media item from favorites.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    item_id:
      name: Item ID
      description: The Emby item ID to remove from favorites.
      required: true
      example: "12345"
      selector:
        text:
    user_id:
      name: User ID
      description: Optional user ID (uses session user if not specified).
      selector:
        text:

refresh_library:
  name: Refresh Library
  description: Trigger a library refresh on the Emby server.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    library_id:
      name: Library ID
      description: Optional library ID to refresh (refreshes all libraries if not specified).
      selector:
        text:

play_instant_mix:
  name: Play Instant Mix
  description: Play an instant mix based on an item (song, album, artist).
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    item_id:
      name: Item ID
      description: The Emby item ID to use as the seed for the instant mix.
      required: true
      example: "12345"
      selector:
        text:
    user_id:
      name: User ID
      description: Optional user ID (uses session user if not specified).
      selector:
        text:

play_similar:
  name: Play Similar Items
  description: Play similar items based on a media item.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    item_id:
      name: Item ID
      description: The Emby item ID to find similar items for.
      required: true
      example: "12345"
      selector:
        text:
    user_id:
      name: User ID
      description: Optional user ID (uses session user if not specified).
      selector:
        text:

create_playlist:
  name: Create Playlist
  description: Create a new playlist on the Emby server.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    name:
      name: Playlist Name
      description: The name for the new playlist.
      required: true
      example: "My Favorites"
      selector:
        text:
    media_type:
      name: Media Type
      description: The type of media for the playlist.
      required: true
      example: "Audio"
      selector:
        select:
          options:
            - "Audio"
            - "Video"
    user_id:
      name: User ID
      description: The user ID who will own the playlist.
      required: true
      selector:
        text:
    item_ids:
      name: Item IDs
      description: Optional list of item IDs to add to the playlist.
      selector:
        object:

add_to_playlist:
  name: Add to Playlist
  description: Add items to an existing playlist.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    playlist_id:
      name: Playlist ID
      description: The ID of the playlist to add items to.
      required: true
      selector:
        text:
    item_ids:
      name: Item IDs
      description: List of item IDs to add to the playlist.
      required: true
      selector:
        object:
    user_id:
      name: User ID
      description: The user ID for permission validation.
      required: true
      selector:
        text:

remove_from_playlist:
  name: Remove from Playlist
  description: Remove items from a playlist.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    playlist_id:
      name: Playlist ID
      description: The ID of the playlist to remove items from.
      required: true
      selector:
        text:
    playlist_item_ids:
      name: Playlist Item IDs
      description: List of PlaylistItemId values (from playlist items, NOT media item IDs).
      required: true
      selector:
        object:

schedule_recording:
  name: Schedule Recording
  description: Schedule a one-time recording for a Live TV program.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    program_id:
      name: Program ID
      description: The Emby program ID to record.
      required: true
      selector:
        text:
    pre_padding_seconds:
      name: Pre-padding
      description: Seconds to start recording before the program begins (0-3600).
      default: 0
      selector:
        number:
          min: 0
          max: 3600
          unit_of_measurement: "seconds"
    post_padding_seconds:
      name: Post-padding
      description: Seconds to continue recording after the program ends (0-3600).
      default: 0
      selector:
        number:
          min: 0
          max: 3600
          unit_of_measurement: "seconds"

cancel_recording:
  name: Cancel Recording
  description: Cancel a scheduled recording timer.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    timer_id:
      name: Timer ID
      description: The Emby timer ID to cancel.
      required: true
      selector:
        text:

cancel_series_timer:
  name: Cancel Series Timer
  description: Cancel a series recording timer (stops all future recordings in the series).
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    series_timer_id:
      name: Series Timer ID
      description: The Emby series timer ID to cancel.
      required: true
      selector:
        text:

create_collection:
  name: Create Collection
  description: Create a new collection on the Emby server.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    name:
      name: Collection Name
      description: The name for the new collection.
      required: true
      example: "My Movie Collection"
      selector:
        text:
    item_ids:
      name: Item IDs
      description: Optional list of item IDs to add to the collection.
      selector:
        object:

add_to_collection:
  name: Add to Collection
  description: Add items to an existing collection.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    collection_id:
      name: Collection ID
      description: The ID of the collection to add items to.
      required: true
      selector:
        text:
    item_ids:
      name: Item IDs
      description: List of item IDs to add to the collection.
      required: true
      selector:
        object:

remove_from_collection:
  name: Remove from Collection
  description: Remove items from a collection.
  target:
    entity:
      integration: embymedia
      domain: media_player
  fields:
    collection_id:
      name: Collection ID
      description: The ID of the collection to remove items from.
      required: true
      selector:
        text:
    item_ids:
      name: Item IDs
      description: List of item IDs to remove from the collection.
      required: true
      selector:
        object:

run_scheduled_task:
  name: Run Scheduled Task
  description: Trigger a scheduled task to run immediately on the Emby server.
  fields:
    task_id:
      name: Task ID
      description: The ID of the scheduled task to run (get task IDs from the server coordinator's scheduled_tasks attribute).
      required: true
      example: "RefreshGuideTask"
      selector:
        text:

restart_server:
  name: Restart Server
  description: Restart the Emby server. Requires administrator privileges.

shutdown_server:
  name: Shutdown Server
  description: Shutdown the Emby server. Requires administrator privileges.

clear_queue:
  name: Clear Queue
  description: Clear the playback queue and stop playback on an Emby client.
  target:
    entity:
      integration: embymedia
      domain: media_player
